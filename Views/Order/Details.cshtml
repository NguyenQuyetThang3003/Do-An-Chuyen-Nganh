@model WedNightFury.Models.Order
@{
    ViewData["Title"] = "Chi ti·∫øt ƒë∆°n h√†ng";
}

<div class="container py-4">
    <h3 class="mb-4 text-danger fw-bold">üì¶ Th√¥ng tin ƒë∆°n h√†ng #@Model.Id</h3>

    <div class="row">
        <!-- ====== C·ªôt tr√°i ====== -->
        <div class="col-md-6">
            <!-- Th√¥ng tin ƒë∆°n -->
            <div class="card mb-3 shadow-sm">
                <div class="card-header bg-light fw-bold">Th√¥ng tin ƒë∆°n</div>
                <div class="card-body">
                    <p><strong>M√£ ƒë∆°n h√†ng:</strong> 12300@Model.Id</p>
                    <p>
                        <strong>Ng√†y t·∫°o:</strong> @(Model.CreatedAt?.ToString("dd/MM/yyyy HH:mm") ?? "Ch∆∞a c√≥")
                    </p>
                    <p><strong>Tr·∫°ng th√°i:</strong>
                        @switch (Model.Status)
                        {
                            case "pending":
                                <span class="badge bg-info">Ch·ªù x·ª≠ l√Ω</span>; break;
                            case "shipping":
                                <span class="badge bg-warning text-dark">ƒêang v·∫≠n chuy·ªÉn</span>; break;
                            case "done":
                                <span class="badge bg-success">Ho√†n t·∫•t</span>; break;
                            case "cancelled":
                                <span class="badge bg-danger">ƒê√£ h·ªßy</span>; break;
                            default:
                                <span class="badge bg-secondary">Kh√¥ng x√°c ƒë·ªãnh</span>; break;
                        }
                    </p>
                    <p><strong>Tr·∫°ng th√°i thanh to√°n COD:</strong>
                        <span class="text-danger fw-bold">Ch∆∞a ƒë·ªëi so√°t COD</span>
                    </p>
                    <p><strong>Ghi ch√∫:</strong> @(!string.IsNullOrEmpty(Model.Note) ? Model.Note : "Kh√¥ng c√≥")</p>
                </div>
            </div>

            <!-- Ng∆∞·ªùi g·ª≠i -->
            <div class="card mb-3 shadow-sm">
                <div class="card-header bg-light fw-bold">Ng∆∞·ªùi g·ª≠i</div>
                <div class="card-body">
                    <p><strong>H·ªç t√™n:</strong> @Model.SenderName</p>
                    <p><strong>S·ªë ƒëi·ªán tho·∫°i:</strong> @Model.SenderPhone</p>
                    <p><strong>ƒê·ªãa ch·ªâ:</strong> @Model.SenderAddress</p>
                </div>
            </div>

            <!-- Ng∆∞·ªùi nh·∫≠n -->
            <div class="card mb-3 shadow-sm">
                <div class="card-header bg-light fw-bold">Ng∆∞·ªùi nh·∫≠n</div>
                <div class="card-body">
                    <p><strong>H·ªç t√™n:</strong> @Model.ReceiverName</p>
                    <p><strong>S·ªë ƒëi·ªán tho·∫°i:</strong> @Model.ReceiverPhone</p>
                    <p><strong>ƒê·ªãa ch·ªâ:</strong> @Model.ReceiverAddress</p>
                    <p><strong>T·ªânh/Th√†nh ph·ªë:</strong> @Model.Province</p>
                </div>
            </div>
        </div>

        <!-- ====== C·ªôt ph·∫£i ====== -->
        <div class="col-md-6">
            <!-- Th√¥ng tin h√†ng h√≥a -->
            <div class="card mb-3 shadow-sm">
                <div class="card-header bg-light fw-bold">Th√¥ng tin h√†ng h√≥a</div>
                <div class="card-body">
                    <p><strong>T√™n h√†ng:</strong> @Model.ProductName</p>
                    <p><strong>Tr·ªçng l∆∞·ª£ng:</strong> @Model.Weight gram</p>
                    <p><strong>Gi√° tr·ªã:</strong> @String.Format("{0:N0}", Model.Value) VNƒê</p>
                    <p><strong>Ghi ch√∫ th√™m:</strong> @(!string.IsNullOrEmpty(Model.Note) ? Model.Note : "Kh√¥ng c√≥")</p>
                    <hr />
                    <p><strong>Ph√≠ v·∫≠n chuy·ªÉn:</strong> <span class="text-danger fw-bold">23.000 ƒë</span></p>
                    <p><strong>Ng∆∞·ªùi tr·∫£ ph√≠:</strong> Ng∆∞·ªùi nh·∫≠n</p>
                </div>
            </div>

            <!-- H√†nh tr√¨nh ƒë∆°n -->
            <div class="card mb-3 shadow-sm">
                <div class="card-header bg-light fw-bold">H√†nh tr√¨nh ƒë∆°n</div>
                <div class="card-body">
                    <ul class="timeline list-unstyled">
                        <li><i class="bi bi-circle-fill text-success me-2"></i>ƒê√£ t·∫°o ƒë∆°n h√†ng l√∫c @Model.CreatedAt?.ToString("dd/MM/yyyy HH:mm")</li>
                        @if (Model.Status == "shipping")
                        {
                            <li><i class="bi bi-truck text-primary me-2"></i>ƒêang giao h√†ng</li>
                        }
                        else if (Model.Status == "done")
                        {
                            <li><i class="bi bi-check-circle text-success me-2"></i>ƒê√£ giao th√†nh c√¥ng</li>
                        }
                        else if (Model.Status == "cancelled")
                        {
                            <li><i class="bi bi-x-circle text-danger me-2"></i>ƒê∆°n h√†ng ƒë√£ b·ªã h·ªßy</li>
                        }
                        else
                        {
                            <li><i class="bi bi-hourglass-split text-warning me-2"></i>ƒêang ch·ªù x·ª≠ l√Ω</li>
                        }
                    </ul>
                </div>
            </div>

            <!-- N√∫t thao t√°c -->
            <div class="d-flex gap-2 mt-3">
                <a asp-action="Manage" class="btn btn-secondary"><i class="bi bi-arrow-left"></i> Quay l·∫°i</a>
                <a asp-action="Print" asp-route-id="@Model.Id" class="btn btn-success"><i class="bi bi-printer"></i> In ƒë∆°n</a>
            </div>
        </div>
    </div>
</div>

<style>
    .timeline li {
        margin-bottom: 8px;
        font-size: 0.95rem;
    }
    .card {
        border-radius: 10px;
    }
    .card-header {
        font-size: 1rem;
    }
</style>
